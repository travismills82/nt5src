;
;
; Language neutral
; Note: language neutral won't be enabled unless environment variable MUI_MAGIC is defined
;

COVERAGE %COVERAGE_SCRIPTS%\CovSetupBuild.cmd
END %COVERAGE_SCRIPTS%\CovSetupBuild.cmd

BEGIN %RazzleToolPath%\PostBuildScripts\winfuse_combinelogs.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\lgndata.cmd -v
END %RazzleToolPath%\PostBuildScripts\lgndata.cmd -v
BEGIN %RazzleToolPath%\PostBuildScripts\lgndata.cmd -0
END %RazzleToolPath%\PostBuildScripts\lgndata.cmd -0
BEGIN %RazzleToolPath%\PostBuildScripts\lgndata.cmd -g
END %RazzleToolPath%\PostBuildScripts\lgndata.cmd -g
BEGIN %RazzleToolPath%\PostBuildScripts\removerc.cmd
END %RazzleToolPath%\PostBuildScripts\removerc.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\lgndata.cmd -i
END %RazzleToolPath%\PostBuildScripts\lgndata.cmd -i
BEGIN %RazzleToolPath%\PostBuildScripts\lgndata.cmd -m
END %RazzleToolPath%\PostBuildScripts\lgndata.cmd -m
BEGIN %RazzleToolPath%\PostBuildScripts\lgndata.cmd -c
END %RazzleToolPath%\PostBuildScripts\lgndata.cmd -c
BEGIN %RazzleToolPath%\PostBuildScripts\chgkeyinf.cmd
END %RazzleToolPath%\PostBuildScripts\chgkeyinf.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\chgsfcinf.cmd
END %RazzleToolPath%\PostBuildScripts\chgsfcinf.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\lgndata.cmd -s
END %RazzleToolPath%\PostBuildScripts\lgndata.cmd -s
;
;
;Run Incremental BBT script
;
;
BEGIN %RazzleToolPath%\PostBuildScripts\bbt\incbbt.cmd
END %RazzleToolPath%\PostBuildScripts\bbt\incbbt.cmd
;
;SwapInOriginal files has to come before aggregation so that it does not overwrite 
;localized files
BEGIN %RazzleToolPath%\PostBuildScripts\SwapInOriginalFiles.cmd
END %RazzleToolPath%\PostBuildScripts\SwapInOriginalFiles.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\Aggregation.cmd
END %RazzleToolPath%\PostBuildScripts\Aggregation.cmd
; replace files postbuild grows so rebase won't rerebase them.
FULL %RazzleToolPath%\PostBuildScripts\layout.cmd
END %RazzleToolPath%\PostBuildScripts\layout.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\drvcabck.cmd
INCREMENTAL %RazzleToolPath%\PostBuildScripts\BinDiff.pl
END %RazzleToolPath%\PostBuildScripts\BinDiff.pl
BEGIN %RazzleToolPath%\PostBuildScripts\a2u.pm -o tsclient
BEGIN %RazzleToolPath%\PostBuildScripts\MakeBuildName.cmd
END %RazzleToolPath%\PostBuildScripts\MakeBuildName.cmd

BEGIN %RazzleToolPath%\PostBuildScripts\winnt32msi.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\delayload.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\shimbind.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\ddkcabs.bat
BEGIN %RazzleToolPath%\PostBuildScripts\supporttools.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\SCP_WPAFiles.cmd
END %RazzleToolPath%\PostBuildScripts\drvcabck.cmd
END %RazzleToolPath%\PostBuildScripts\a2u.pm
BEGIN %RazzleToolPath%\PostBuildScripts\cddata.cmd -f -d -x
BEGIN %RazzleToolPath%\PostBuildScripts\fips.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\tsclient.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\fxsclient.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\twclient.cmd
OFFICIAL %RazzleToolPath%\PostBuildScripts\capturesourcefilelist.cmd -g ntdev
BEGIN %RazzleToolPath%\PostBuildScripts\timebomb.cmd

END %RazzleToolPath%\PostBuildScripts\fips.cmd
END %RazzleToolPath%\PostBuildScripts\CDdata.cmd

BEGIN %RazzleToolPath%\PostBuildScripts\cddata.cmd -d
END %RazzleToolPath%\PostBuildScripts\CDdata.cmd

BEGIN %RazzleToolPath%\PostBuildScripts\a2u.pm
END %RazzleToolPath%\PostBuildScripts\a2u.pm
COMP %RazzleToolPath%\PostBuildScripts\StartPreCompress.cmd

END %RazzleToolPath%\PostBuildScripts\tsclient.cmd
END %RazzleToolPath%\PostBuildScripts\fxsclient.cmd
END %RazzleToolPath%\PostBuildScripts\twclient.cmd

BEGIN %RazzleToolPath%\PostBuildScripts\copywow64.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\copyremoteboot.cmd

BEGIN %RazzleToolPath%\PostBuildScripts\copytsc.cmd

END %RazzleToolPath%\PostBuildScripts\SCP_WPAFiles.cmd

BEGIN %RazzleToolPath%\PostBuildScripts\ntrebase.cmd 
END %RazzleToolPath%\PostBuildScripts\ntrebase.cmd 

BEGIN %RazzleToolPath%\PostBuildScripts\bindsys.cmd
END %RazzleToolPath%\PostBuildScripts\bindsys.cmd

COMP %RazzleToolPath%\PostBuildScripts\StartPostCompress.cmd

;Add files to bindiff that rebase may have touched
INCREMENTAL %RazzleToolPath%\PostBuildScripts\BinDiff.pl -a
END %RazzleToolPath%\PostBuildScripts\BinDiff.pl

; winfuse logs are consumed by symbolcd and winfusesfcgen
END %RazzleToolPath%\PostBuildScripts\winfuse_combinelogs.cmd

BEGIN %RazzleToolPath%\PostBuildScripts\symbolcd.cmd

; start 'bldrule' scripts first because catsign is waiting on them 
; and cdimage is waiting on startcompress postcomp, which happens
; after catsign

; The 'bldrule' scripts themselves are ordered by the time
; of execution (my best guess)

BEGIN %RazzleToolPath%\PostBuildScripts\DMD_MediaServer_Cab.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\admigration.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\adminpak.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\uddipostbuild.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\inetsrv.cmd -o CABGEN
;BEGIN %RazzleToolPath%\PostBuildScripts\deploytools.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\wmmkdcache.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\nntpsmtp.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\crypto.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\signtheme.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\tscert.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\pbainst.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\fixprn.pl
BEGIN %RazzleToolPath%\PostBuildScripts\helpsupportservices.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\migwiz.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\hnw.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\NTBackupOnPersonal.cmd
;BEGIN %RazzleToolPath%\PostBuildScripts\MkTabCab.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\gpmc.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\samsibuild.cmd

; Now wait on 12 scripts before starting Catsign
END %RazzleToolPath%\PostBuildScripts\nntpsmtp.cmd
END %RazzleToolPath%\PostBuildScripts\inetsrv.cmd
END %RazzleToolPath%\PostBuildScripts\DMD_MediaServer_Cab.cmd

; Has to happen after nntpsmtp and inetsrv as these scripts create INFS
; Also layout.cmd should happen only on FULL runs as we
; don't want layout.inf to change and hence causing sfcgen to always
; regenerate the list on incremental passes.

BEGIN %RazzleToolPath%\PostBuildScripts\sfcgen.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\winfusesfcgen.cmd -cdfs:yes -hashes:yes

END %RazzleToolPath%\PostBuildScripts\shimbind.cmd
; msi.cmd must wait for shimbind.cmd to start
BEGIN %RazzleToolPath%\PostBuildScripts\msi.cmd
END %RazzleToolPath%\PostBuildScripts\msi.cmd
;tscsetup.cmd must run after msi.cmd completes
BEGIN %RazzleToolPath%\PostBuildScripts\tscsetup.cmd
END %RazzleToolPath%\PostBuildScripts\winnt32msi.cmd
END %RazzleToolPath%\PostBuildScripts\delayload.cmd
END %RazzleToolPath%\PostBuildScripts\timebomb.cmd
END %RazzleToolPath%\PostBuildScripts\copyremoteboot.cmd
END %RazzleToolPath%\PostBuildScripts\copytsc.cmd
END %RazzleToolPath%\PostBuildScripts\crypto.cmd
END %RazzleToolPath%\PostBuildScripts\signtheme.cmd
END %RazzleToolPath%\PostBuildScripts\tscert.cmd
;END %RazzleToolPath%\PostBuildScripts\deploytools.cmd
END %RazzleToolPath%\PostBuildScripts\wmmkdcache.cmd
END %RazzleToolPath%\PostBuildScripts\adminpak.cmd
END %RazzleToolPath%\PostBuildScripts\uddipostbuild.cmd
END %RazzleToolPath%\PostBuildScripts\admigration.cmd
END %RazzleToolPath%\PostBuildScripts\pbainst.cmd
END %RazzleToolPath%\PostBuildScripts\fixprn.pl
END %RazzleToolPath%\PostBuildScripts\helpsupportservices.cmd
END %RazzleToolPath%\PostBuildScripts\migwiz.cmd
END %RazzleToolPath%\PostBuildScripts\hnw.cmd
END %RazzleToolPath%\PostBuildScripts\NTBackupOnPersonal.cmd
;END %RazzleToolPath%\PostBuildScripts\MkTabCab.cmd
END %RazzleToolPath%\PostBuildScripts\sfcgen.cmd
END %RazzleToolPath%\PostBuildScripts\winfusesfcgen.cmd
END %RazzleToolPath%\PostBuildScripts\samsibuild.cmd

;sxs_merge_module.cmd has to wait until winfusesfcgen ends,the merge module 
; need the catalog file generated by winfusesfcgen.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\sxs_msm.cmd
END %RazzleToolPath%\PostBuildScripts\sxs_msm.cmd
END %RazzleToolPath%\PostBuildScripts\tscsetup.cmd
END %RazzleToolPath%\PostBuildScripts\gpmc.cmd

; We need to refresh our lists before making the driver cab and catalogs
INCREMENTAL %RazzleToolPath%\PostBuildScripts\BinDiff.pl -a
END %RazzleToolPath%\PostBuildScripts\BinDiff.pl
BEGIN %RazzleToolPath%\PostBuildScripts\cddata.cmd -f -d
END %RazzleToolPath%\PostBuildScripts\cddata.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\a2u.pm
END %RazzleToolPath%\PostBuildScripts\a2u.pm

BEGIN %RazzleToolPath%\PostBuildScripts\DriverCab.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\sxs_make_asms_cabs.cmd
BEGIN %RazzleToolPath%\PostBuildScripts\catsign.cmd
END %RazzleToolPath%\PostBuildScripts\catsign.cmd

END %RazzleToolPath%\PostBuildScripts\DriverCab.cmd
END %RazzleToolPath%\PostBuildScripts\copywow64.cmd
END %RazzleToolPath%\PostBuildScripts\supporttools.cmd
END %RazzleToolPath%\PostBuildScripts\sxs_make_asms_cabs.cmd


INCREMENTAL %RazzleToolPath%\PostBuildScripts\BinDiff.pl -a
END %RazzleToolPath%\PostBuildScripts\BinDiff.pl


BEGIN %RazzleToolPath%\PostBuildScripts\muiwhistler.pl

BEGIN %RazzleToolPath%\PostBuildScripts\cddata.cmd -f -d
END %RazzleToolPath%\PostBuildScripts\cddata.cmd

BEGIN %RazzleToolPath%\PostBuildScripts\CheckTestSig.cmd
END %RazzleToolPath%\PostBuildScripts\CheckTestSig.cmd

END %RazzleToolPath%\PostBuildScripts\StartPreCompress.cmd
END %RazzleToolPath%\PostBuildScripts\StartPostCompress.cmd 

BEGIN %RazzleToolPath%\PostBuildScripts\cdimage.cmd
END %RazzleToolPath%\PostBuildScripts\cdimage.cmd

BEGIN %RazzleToolPath%\PostBuildScripts\genInfList.cmd
END %RazzleToolPath%\PostBuildScripts\genInfList.cmd

BEGIN %RazzleToolPath%\PostBuildScripts\setupw95.cmd
END %RazzleToolPath%\PostBuildScripts\setupw95.cmd

BEGIN %RazzleToolPath%\PostBuildScripts\makeprocd2
END %RazzleToolPath%\PostBuildScripts\makeprocd2

BEGIN %RazzleToolPath%\PostBuildScripts\filechk.pl
END %RazzleToolPath%\PostBuildScripts\filechk.pl

BEGIN %RazzleToolPath%\PostBuildScripts\makewinpeimg.cmd
;BEGIN %RazzleToolPath%\PostBuildScripts\makebfloppy.cmd

END %RazzleToolPath%\PostBuildScripts\makewinpeimg.cmd
;END %RazzleToolPath%\PostBuildScripts\makebfloppy.cmd

END %RazzleToolPath%\PostBuildScripts\capturesourcefilelist.cmd
OFFICIAL %RazzleToolPath%\PostBuildScripts\submit_public.cmd

END %RazzleToolPath%\PostBuildScripts\symbolcd.cmd
END %RazzleToolPath%\PostBuildScripts\ddkcabs.bat
END %RazzleToolPath%\PostBuildScripts\muiwhistler.pl

BEGIN %RazzleToolPath%\PostBuildScripts\BinDiff.pl
END %RazzleToolPath%\PostBuildScripts\BinDiff.pl

COVERAGE %COVERAGE_SCRIPTS%\CovSaveFiles.cmd
END %COVERAGE_SCRIPTS%\CovSaveFiles.cmd

END %RazzleToolPath%\PostBuildScripts\submit_public.cmd


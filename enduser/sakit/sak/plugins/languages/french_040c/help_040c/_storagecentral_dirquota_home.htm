<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Directory Quotas</TITLE>
<SCRIPT SRC="linkcss.js"></SCRIPT>

</HEAD>
<BODY TOPMARGIN="0">
<BR>
<P ALIGN=RIGHT><A HREF onclick="history.back(-1)" STYLE="cursor: hand; text-align: right">Previous Topic</A></P>

<H1><A NAME="_nas_disk_quotas"></A>Directory Quotas</H1>

<p>Directory quotas allow you to add, delete, monitor, and 
change space limits for selected directories on the server appliance.&nbsp; 
 Directory quotas provide
disk space monitoring and control in real time, and supports active and
passive limits
with two real-time space alarms.</p>

<P>The directory quotas feature includes the following components:</P>
<UL>
  <li>Active and passive space limits on directories 
  <li>Best practice storage 
  resource management policies 
  <li>A severe alarm threshold 
  <li>A warning alarm threshold&nbsp; 
  <li>Auto discovery of drives 
  <li>Customized messages 
  <li>Alarms sent&nbsp;to the event log 
  <li>Alarms sent to the&nbsp;user&nbsp; 
  <li>Storage reports that can be sent to an intranet Web site 
  <li> Custom script</li></UL>
<P>Use caution when placing a directory quota on the system partition. If the 
system does not have sufficient quota to write files, it may fail. Also, if the 
system partition does not have enough space to write temporary files during 
boot, the system may not restart. You can avoid this by using caution when 
placing quotas on the system partition or system directories.</P>
<P>Directory quotas use each file's allocation size to determine how much space 
is used. Windows Explorer and other Windows programs display the actual disk 
space used for the data in a file. This discrepancy may cause some confusion, 
but&nbsp;&nbsp;the&nbsp;Directory Quota feature<B>&nbsp;</B>is correctly 
charging the user for the amount of disk space actually consumed to store a 
file.<BR><BR>Large cluster sizes on file allocation table (FAT) file systems may 
add to the confusion, because an entire cluster is always allocated, regardless 
of the file size. NTFS file systems store very small files in the index file and 
typically have more reasonable cluster sizes. The following table provides some 
examples.</P>
<P>
<TABLE width="62%">
  
  <TR>
    <TD align=left width="32%"><B>File size charged</B></TD>
    <TD align=left width="30%"><B>&nbsp;File system</B></TD>
    <TD align=left width="53%"><B>Directory quota size</B></TD>
    <TD align=left width="30%"><B>Charged</B></TD></TR>
  <TR>
    <TD align=left width="32%">16 bytes</TD>
    <TD align=left width="30%">FAT</TD>
    <TD align=left width="53%">8 KB</TD>
    <TD align=left width="30%">8 KB</TD></TR>
  <TR>
    <TD align=left width="32%">16 bytes</TD>
    <TD align=left width="30%">NTFS</TD>
    <TD align=left width="53%">Any</TD>
    <TD align=left width="30%">16 bytes</TD></TR>
  <TR>
    <TD align=left width="32%">8 KB</TD>
    <TD align=left width="30%">FAT</TD>
    <TD align=left width="53%">8K</TD>
    <TD align=left width="30%">8 KB</TD></TR>
  <TR>
    <TD align=left width="32%">8 KB</TD>
    <TD align=left width="30%">NTFS</TD>
    <TD align=left width="53%">1K</TD>
    <TD align=left width="30%">8 KB</TD></TR></TABLE>
<P>Because of differences in the amount of storage requested for a file 
extension operation and the amount actually allocated by Windows 2000 for that 
extension, a user may be allowed to exceed his quota by as much as one cluster. 
For example, assume a user has a quota of 100 KB and has used 96 KB on a file 
system with a cluster size of 8 KB. The user creates a file of 1 KB. Windows 
2000 requests 1024 bytes be allocated for the file. Since this is less than the 
remaining quota for the user, the operation is allowed to continue. However, if 
the cluster size is 8 KB, Windows 2000 will actually allocate 8 KB for the file. 
The user has now used 104 KB, and while this is allowed, future attempts to 
create or extend files will fail. </P>

<H4>Related Topics</H4>
<p><A href="_storagecentral_dirquota_manage.htm">Managing a Directory Quota</A> </p>
<p><A href="_storagecentral_dirquota_policies.htm">Directory Quota Policies</A></p>

<p><A href="_storagecentral_dirquota_preferences.htm">Directory Quota Preferences</A></p> 
<p><A href="_storagecentral_dirquota_alarm_action.htm">Directory Quota Alarm Action</A></p>

<br><br>
</BODY>
</HTML>

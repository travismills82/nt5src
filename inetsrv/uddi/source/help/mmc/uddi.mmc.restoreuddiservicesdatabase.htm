<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<HTML DIR="ltr">
	<HEAD>
		<TITLE>Restore a UDDI&nbsp;Services database</TITLE>
		<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
		<META HTTP-EQUIV="MSThemeCompatible" CONTENT="Yes">
		<META NAME="MS.LOCALE" CONTENT="EN-US">
		<LINK REL="stylesheet" MEDIA="screen" TYPE="text/css" HREF="coUA.css">
			<LINK REL="stylesheet" MEDIA="print" TYPE="text/css" HREF="coUAprint.css">
				<SCRIPT LANGUAGE="JScript" SRC="shared.js"></SCRIPT>
	</HEAD>
	<BODY>
		<DIV CLASS="UAbrand"><SPAN CLASS="webonly"><IMG SRC="UAbrand.gif" CLASS="UAbrand" ALT="Microsoft Windows Graphic"></SPAN></DIV>
		<P CLASS="proclabel">To restore a
			UDDI&nbsp;Services
			database</P>
		<P CLASS="Important">Important</P>
		<UL>
			<LI>
				Before restoring any data, it is highly recommended that you <i>stop</i> all
				UDDI&nbsp;Services
				Web servers that are connected to the database server to which you are 
				restoring data. For more information, see <a href="uddi.mmc.startorstopasever.htm">Start 
					or Stop a Web Server</a>.
			<LI>
			To perform this procedure, you must have administrative credentials.
			<LI>
				When you restore a
				UDDI&nbsp;Services
			database, all existing data is destroyed.
			<LI>
				If any of the paths referenced in the UDDI.Database.bak file do not exist on 
				the local computer, the restore operation will fail with a device activation 
				error.</LI>
		</UL>
		<OL>
			<LI>
				From the computer hosting the
				UDDI&nbsp;Services
				database you want to restore, open <A ID="shortcut" HREF="EXEC=,cmd.exe,, CHM=UAShared.chm FILE=alt_url_windows_component.htm">
					Command Prompt</A>.
			<LI>
				At the command prompt, type:
				<p>
					<B>CD&nbsp;<i>UDDI_Services_Installation_Directory</i>\Data</B></p>
				The default
				UDDI&nbsp;Services
				installation directory is:
				<P><i>systemroot</i><b>\Inetpub\UDDI\</b></P>
			<LI>
				If you have not already done so, copy the database backup file (<b>UDDI.Database.bak</b>) 
			that you want to restore into this directory.
			<LI>
				Type:
				<p><NOBR><B>UDDI.database.restore.cmd</B> <wbr>[<i>Database_Instance_Name</i>]</NOBR></p>
				<TABLE WIDTH="90%">
					<TR>
						<TH>
							Value</TH>
						<TH>
							Description</TH>
					</TR>
					<TR>
						<TD><i>Database_Instance_Name</i></TD>
						<TD>The name of the local MSDE2000 or SQL Server database instance where the UDDI 
							Services database component is installed. If none is specified, the default 
							database instance is used.</TD>
					</TR>
				</TABLE>
				For example, to restore to a database instance named UDDI, type:
				<p><NOBR><B>uddi.database.restore.cmd UDDI</B></NOBR></p>
			</LI>
		</OL>
		The backup data replaces the existing data in this database instance.
		<P CLASS="note">Note</P>
		<UL>
			<LI>
				You can only restore data from backups made from the same installation of
				UDDI&nbsp;Services. You cannot use this tool to migrate data 
			from one installation to another.
			<LI>
				Use the <B>runas</B> command to perform administrative tasks with 
				Administrative&nbsp;credentials as necessary. You can use this command by 
				typing <b>runas</b> at the command prompt.
			</LI>
		</UL>
		<hr class="iis" size="1">
		<p align="center"><i><a href="colegal.htm">&copy; 1997-2002 Microsoft Corporation. All rights 
					reserved</a>.</i></p>
	</BODY>
</HTML>



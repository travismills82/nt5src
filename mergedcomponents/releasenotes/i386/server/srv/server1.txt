**********************************************************************
                Windows Server 2003, Standard Edition
                    Setup Text Files, Part 1 of 4:
         Getting Ready for an Upgrade or a New Installation

**********************************************************************
        

This part of the Setup text file series can help you plan for an
installation or upgrade to Microsoft Windows Server 2003,
Standard Edition, in a network with one to five servers and 100 or
fewer clients. For help with planning the upgrade or installation of a
larger number of servers, see the Microsoft Windows Server 2003
Deployment Kit. You can view the Windows Deployment and Resource Kits
on the Web at:

   http://www.microsoft.com/reskit/

The following list of headings can help you find the planning
information that applies to you. For information about running Setup,
see Server4.TXT.

In Server1.TXT:
---------------
     1.0    Upgrades Compared to New Installations
     2.0    System Requirements and Hardware Compatibility
     3.0    Important Files to Review
     4.0    Upgrades in a Domain Containing Windows 2000 Domain
            Controllers

In Server2.TXT:
---------------
     5.0    Upgrades in a Windows NT 4.0 Domain
     6.0    Decisions to Make for a New Installation
     7.0    Choosing a Licensing Mode

In Server3.TXT:
---------------
     8.0    Deciding Whether a Computer Will Contain More Than One
            Operating System
     9.0    Choosing a File System for the Installation Partition
    10.0    Planning Disk Partitions or Volumes for New Installations
    11.0    Networks: TCP/IP, IP Addresses, and Name Resolution
    12.0    Deciding Between Workgroups and Domains

After completing the installation or upgrade of the first server, you
can get detailed instructions about how to use products in the
Windows Server 2003 family by opening Help and Support Center.
To open Help and Support Center, click Start, and then click Help and
Support.

You can also view Help and Support Center topics on the Web at:

   http://www.microsoft.com/windowsserver2003/proddoc/


======================================================================
1.0   UPGRADES COMPARED TO NEW INSTALLATIONS
======================================================================


This section compares upgrading to performing a new installation.
Upgrading is either replacing Microsoft Windows NT 4.0 (with
Service Pack 5 or later) with a product in the
Windows Server 2003 family, or replacing
Microsoft Windows 2000 with a product in the
Windows Server 2003 family. Installing, in contrast with
upgrading, means completely removing the previous operating system, or
installing a product in the Windows Server 2003 family on a disk
or disk partition with no previous operating system.

The following lists describe items to consider when deciding between
an upgrade and a new installation:

Points to consider for an upgrade:
----------------------------------

   * With an upgrade, configuration is simpler, and your existing
     users, settings, groups, rights, and permissions are retained.

   * With an upgrade, you do not need to re-install files and
     applications. As with any major changes to the hard disk,
     however, it is recommended that you back up the disk before
     beginning an upgrade.

   * Before planning to perform an upgrade, see "Operating Systems
     from Which You Can Upgrade" later in this text file.

   * If you are upgrading in a domain that includes domain controllers
     running Windows 2000, be sure to read "Upgrades in a Domain
     Containing Windows 2000 Domain Controllers" later in this
     text file.

   * If you are upgrading in a domain where all domain controllers run
     Windows NT 4.0, be sure to read "Upgrades in a Windows NT 4.0
     Domain" in Server2.TXT.

   * If you want to upgrade and then use the same applications as
     before, be sure to review applications information in
     Relnotes.htm (in the \Docs folder on the Setup CD). Also, for the
     most recent information on compatible applications for products
     in the Windows Server 2003 family, see the software
     compatibility information in the Windows Catalog at:

        http://www.microsoft.com/windows/catalog/

Points to consider for a new installation:
------------------------------------------

   * If you reformat your hard disk and then perform a new
     installation, the efficiency of your disk might improve
     (compared to not reformatting it). Reformatting also gives you
     the opportunity to modify the size or number of disk partitions,
     to make them match your requirements more closely.

   * If you want to practice careful configuration management, for
     example, for a server where high availability is important, you
     might want to perform a new installation on that server instead
     of an upgrade. This is especially true on servers on which the
     operating system has been upgraded several times in the past.

   * It is possible to install Windows Server 2003,
     Standard Edition, and also allow the computer to sometimes
     run another operating system. Setting up the computer this way,
     however, presents complexities because of file system issues.
     For more information, see "Deciding Whether a Computer Will
     Contain More Than One Operating System" in Server3.TXT.

        Note: If you want to install Windows Server 2003,
        Standard Edition, on a computer that previously ran an
        operating system released before Windows 2000:

           * Do not install Windows Server 2003, Standard
             Edition, on a compressed drive unless the drive was
             compressed with the NTFS file system compression
             utility. Uncompress a DriveSpace or DoubleSpace volume
             before running Setup on it.
 
           * If you used Windows NT 4.0 to create a volume set,
             mirror set, stripe set, or stripe set with parity, and
             you want to run Setup for Windows Server 2003,
             Standard Edition, on that computer, you must prepare the
             disk set first. For details, see "Working with Volume,
             Mirror, or Stripe Sets or Stripe Sets with Parity" in
             Server2.TXT.


--------------------------------------------------
1.1   Operating Systems from Which You Can Upgrade
--------------------------------------------------
If you upgrade, Setup automatically installs Windows Server
2003, Standard Edition, into the same folder as the currently
installed operating system. You can upgrade to Windows Server
2003, Standard Edition, from the following versions of Windows:

   * Windows NT Server 4.0 with Service Pack 5 or later

   * Windows NT Server 4.0, Terminal Server Edition, with Service Pack
     5 or later

   * Windows 2000 Server.

     Remote Storage is not included on Windows Server 2003,
     Standard Edition. If you are using Windows 2000 Server with
     Remote Storage, you cannot upgrade to Windows Server 2003,
     Standard Edition. You can, however, upgrade to Windows
     Server 2003, Enterprise Edition, because Remote Storage is
     included in this product.

     If you have Windows 2000 Server with the Remote Storage component
     installed, but you are not using Remote Storage, you can remove
     the component (through Add/Remove Programs in Control Panel) and
     then upgrade to Windows Server 2003, Standard Edition.

If you have Windows NT Server 4.0 Enterprise Edition, you can upgrade
to Windows Server 2003, Enterprise Edition, but not Windows
Server 2003, Standard Edition. Before upgrading from Windows NT 4.0,
you must apply Service Pack 5 or later.

   Note: If you have a version of Windows NT earlier than 4.0, you
   cannot upgrade directly to a product in the Windows Server
   2003 family. You must first upgrade to Windows NT 4.0 and apply
   Service Pack 5 before upgrading to a product in the Windows
   Server 2003 family.


======================================================================
2.0   SYSTEM REQUIREMENTS AND HARDWARE COMPATIBILITY
======================================================================


Before upgrading or installing your server, make sure that you have
chosen hardware that supports Windows Server 2003,
Standard Edition.


-------------------------
2.1   System Requirements
-------------------------
To ensure adequate performance, make sure that computers on which you
install or upgrade to Windows Server 2003, Standard Edition, meet
the following requirements:

   * One or more processors with a recommended minimum speed of 550
     MHz (minimum supported speed is 133 MHz). A maximum of four
     processors per computer is supported. Processors from the Intel
     Pentium/Celeron family, AMD K6/Athlon/Duron family, or compatible
     processors are recommended.

   * 256 megabytes (MB) of RAM recommended minimum (128 MB
     minimum supported; 4 gigabytes (GB) maximum).

   * A hard disk partition or volume with enough free space to
     accommodate the setup process. To ensure that you have
     flexibility in your later use of the operating system, it is
     recommended that you allow considerably more space than the
     minimum required for running Setup, which is approximately 1.25
     GB to 2 GB. The larger amount of space is required if you are
     running Setup across a network instead of from a CD-ROM, or if
     you are upgrading on a FAT or FAT32 partition (NTFS is the
     recommended file system).

     In addition, a domain controller upgrade from Windows NT 4.0
     could require much more space than other upgrades, because the
     existing user accounts database can expand by as much as a factor
     of ten during the upgrade, as Active Directory functionality
     is added.

        Note: The setup process requires the free disk space described
        in the previous paragraphs. After Setup is finished, actual
        hard disk space used for the operating system will be more
        than the free space required for Setup, because of space
        needed for the paging file, for any optional components you
        install, and (on domain controllers) for user accounts and
        other Active Directory information. The usual size for the
        paging file is 1.5 times the size of the RAM. For information
        about the paging file, optional components, user accounts, and
        information stored in Active Directory, see Help and Support
        Center. To open Help and Support Center, after completing
        Setup, click Start, and then click Help and Support.

   * VGA or higher-resolution monitor (Super VGA 800x600 or higher
     recommended), keyboard, and (optionally) a mouse or other
     pointing device.

     As an alternative, for operation without a monitor or keyboard,
     you can choose a remote diagnostic and support processor that is
     designed for products in the Windows Server 2003 family. For
     details, see the hardware compatibility information in the
     Windows Catalog at:

        http://www.microsoft.com/windows/catalog/

For CD-ROM installation:

   * A CD-ROM or DVD drive.

For network installation:

   * One or more network adapters and related cables that are designed
     for products in the Windows Server 2003 family. For details,
     see the hardware compatibility information in the
     Windows Catalog at:

        http://www.microsoft.com/windows/catalog/

   * A server from which to offer network access for the Setup files.

For additional hardware-based functionality:

   * Appropriate hardware for the functionality you require. For
     example, if you require sound, you must have a compatible sound
     card with speakers or headphones, and if you plan to support
     network clients, the servers and clients must have appropriate
     network adapters and cables. For details about your hardware, see
     the hardware compatibility information in the Windows Catalog at:
  
        http://www.microsoft.com/windows/catalog/


----------------------------
2.2   Hardware Compatibility
----------------------------
One of the most important steps to take before upgrading or
installing your server is to confirm that your hardware is compatible
with products in the Windows Server 2003 family. You can do this
by running a preinstallation compatibility check from the Setup CD or
by checking the hardware compatibility information at the Windows
Catalog Web site. Also, as part of confirming hardware compatibility,
check to see that you have obtained updated hardware device drivers
and an updated system BIOS.

Regardless of whether you run a preinstallation compatibility check,
Setup checks hardware and software compatibility at the beginning of
an installation or upgrade and displays a report if there
are incompatibilities.


Running a preinstallation compatibility check from the Setup CD
---------------------------------------------------------------
You can run a hardware and software compatibility check from the
Setup CD. The compatibility check does not require you to actually
begin an installation or upgrade. To run the check, insert the Setup
CD in the CD-ROM drive and, when a display appears, follow the prompts
for checking system compatibility. You will be offered the option to
download the latest Setup files (through Dynamic Update) when you run
the check. If you have Internet connectivity, it is recommended that
you allow the download.

For more information about downloading the latest Setup files, see
"Using Dynamic Update for Updated Drivers and Other Setup Files" later
in this text file.

Another way to run the compatibility check is to insert the Setup CD
in the CD-ROM drive, open a command prompt, and type:

d:\i386\winnt32 /checkupgradeonly

where d represents the CD-ROM drive.


Checking hardware and software compatibility information on the
Microsoft Web site
---------------------------------------------------------------
Another way to confirm that your hardware and software are designed
for products in the Windows Server 2003 family is to check the
hardware and software compatibility information in the Windows Catalog
at:

   http://www.microsoft.com/windows/catalog/

Note that one type of hardware no longer supported is the
Micro Channel bus.


Checking drivers and system BIOS
--------------------------------
Check that you have obtained updated drivers for your hardware
devices and that you have the latest system BIOS. The device
manufacturers can help you obtain these items. For information about
the ACPI standard for the BIOS, see "Understanding ACPI BIOS" later in
this text file.

Finally, if you have devices that do not use Plug and Play, or you
are aware that your Plug and Play devices are not implemented exactly
to the standards, consider taking a device inventory of the hardware
devices in your computer. For more information, see the next section,
"Taking an Inventory of Devices That Do Not Use Plug and Play."


2.2.1  Taking an Inventory of Devices That Do Not Use Plug and Play
-------------------------------------------------------------------
This section describes steps you can take if the devices in your
computer do not use Plug and Play technology. For important
information about hardware compatibility (including the compatibility
of devices), be sure to read "System Requirements" and "Hardware
Compatibility" earlier in this text file. For specific information
about using a mass storage controller (such as a SCSI, RAID, or Fibre
Channel adapter) with a driver that was supplied by the manufacturer,
see "Mass Storage Drivers and the Setup Process" in Server4.TXT.

Products in the Windows Server 2003 family include Plug and Play
technology so that devices (for example, video and network adapters)
can be automatically recognized by the operating system, configuration
conflicts are avoided, and you do not have to specify each device's
settings by hand. However, if you have devices that do not use Plug
and Play, or you are aware that your Plug and Play devices are not
implemented exactly to the standards, you might want to take steps to
avoid device configuration conflicts. This section describes steps you
can take, if you choose, to understand your device configuration
before running Setup.

To take an inventory of your devices, use the existing operating
system to obtain the current settings, such as memory address and
interrupt request (IRQ), used with your devices. For example, with
Windows NT 4.0, you can use Control Panel to view settings (on the
Start menu, point to Settings, click Control Panel, and then
double-click icons such as Network and Ports). You might also choose
to view system BIOS information. To do this, watch the screen while
starting the computer, and then press the appropriate key when
prompted.

At the beginning of an upgrade, the Setup program automatically takes
a device inventory as well. For devices that do not use Plug and Play,
or that are not implemented exactly to Plug and Play standards, taking
your own inventory helps prevent the following difficulties:

   * If two or more adapters share IRQ settings or memory addresses,
     the Setup program might not be able to resolve the conflict. To
     prevent this, you can take one of two approaches.

     You can remove one of the adapters before running Setup and
     re-install it afterward. For information about installing and
     configuring adapters and other hardware devices, see Help and
     Support Center. To open Help and Support Center, after completing
     Setup, click Start, and then click Help and Support.

     As an alternative, you can modify one adapter's IRQ settings and
     memory addresses before running Setup, so that each adapter's
     settings are unique.

   * If adapters do not respond in a standard way to the attempts by
     Setup to detect or enumerate them, Setup might receive
     indecipherable or inaccurate information. In this case, you might
     need to remove these devices before running Setup, and re-install
     and configure them afterward. For information about installing
     and configuring adapters and other hardware devices, see Help and
     Support Center. To open Help and Support Center, after completing
     Setup, click Start, and then click Help and Support.

The following table lists the kinds of information to gather if you
have devices that do not use Plug and Play, and you decide to take a
device inventory before starting Setup.


======================================================================
ADAPTER          INFORMATION TO GATHER
----------------------------------------------------------------------
Video            Adapter or chip set type and how many video adapters

Network          IRQ, I/O address, Direct Memory Address (DMA) if
                 used, connector type (for example, BNC or twisted
                 pair), and bus type

SCSI             Adapter model or chip set, IRQ, and bus type
controller

Mouse            Mouse type and port (COM1, COM2, or PS/2) or USB

I/O port         IRQ, I/O address, and DMA (if used) for each I/O
                 port

Sound adapter    IRQ, I/O address, and DMA

Universal        Which devices and hubs are attached
serial bus (USB)

PC card          Which adapters are inserted and in which slots

Plug and Play    Whether enabled or disabled in BIOS

BIOS settings    BIOS revision and date

External modem   COM port connections (COM1, COM2, and so on)

Internal modem   COM port connections; for nonstandard
                 configurations, IRQ and I/0 address

Advanced         Enabled or disabled; current setting
Configuration
and Power
Interface
(ACPI); Power
Options

PCI              Which PCI adapters are inserted and in which
                 slots


2.2.2  Understanding ACPI BIOS
------------------------------
The basic input/output system (BIOS) is a set of software through
which the operating system (or Setup) communicates with the computer's
hardware devices. The Advanced Configuration and Power Interface
(ACPI) is the current standard for the way the BIOS works. Products in
the Windows Server 2003 family support not only ACPI-compliant
BIOS versions, but also some BIOS versions based on older advanced
power management (APM) and Plug and Play designs.

Some ACPI-based BIOS versions are not compliant with the standard.
The more recent the version of an ACPI BIOS, the more likely that it
is compliant. An ACPI-based BIOS that is not compliant with the ACPI
standard might not support workable communication between the
operating system (or Setup) and your hardware. If workable
communication is not supported, Setup stops and displays instructions
for contacting your hardware manufacturer and taking other steps to
solve the problem. If this happens, follow the instructions provided.

To learn more about the ACPI compliance of your BIOS:

   * For information about your BIOS version, before running Setup,
     restart the computer and watch the text on the screen. Pay
     particular attention to blocks of text containing the words
     "BIOS" or "ACPI BIOS."

   * For information about BIOS versions for your hardware, check your
     hardware documentation and contact your hardware manufacturer.


2.2.3  Using Dynamic Update for Updated Drivers and Other Setup Files
---------------------------------------------------------------------
If you have a working Internet connection on the computer on which
you run Setup, you can choose Dynamic Update during Setup and obtain
the most up-to-date Setup files, including drivers and other files.
Whenever an important update is made to any crucial Setup file, that
update is made available through Dynamic Update functionality built
into the Windows Update Web site. Some of the updated files will be
replacements (for example, an updated driver or updated Setup file)
and some will be additions (for example, a driver not available at the
time that the Setup CD was created). It is recommended that you use
Dynamic Update when running Setup.

Dynamic Update has been carefully designed so that it is reliable and
easy to use:

   * The files on the Dynamic Update section of the Windows Update Web
     site have been carefully tested and selected. Only files that are
     important in ensuring that Setup runs well are made available
     through Dynamic Update. Files with minor updates that will not
     significantly affect Setup are not part of Dynamic Update.

   * Because Dynamic Update downloads only the files that are required
     for your computer, the Dynamic Update software briefly examines
     your computer hardware. No personal information is collected, and
     no information is saved. The only purpose is to select
     appropriate drivers for your hardware configuration. This keeps
     the download as short as possible and ensures that only necessary
     drivers are downloaded to your hard disk.

   * You can use Dynamic Update when running a preinstallation
     compatibility check from the product CD, or when running Setup
     itself. Either way, you obtain the most up-to-date files for
     running Setup. For information about running the compatibility
     check, see "Hardware Compatibility" earlier in this text file.

   * You can use Dynamic Update with unattended Setup. Preparing for
     this requires several steps. For a brief description of
     unattended Setup, see "Planning for Unattended Setup" in
     Server4.TXT. For details about how to use Dynamic Update with
     unattended Setup (also called automated installation), see
     "Automating and Customizing Installations" in the
     Windows Server 2003 Deployment Kit. You can view the
     Windows Deployment and Resource Kits on the Web at:

        http://www.microsoft.com/reskit/

The Windows Update Web site offers a variety of updates that you can
use after completing Setup. To learn more, go to:

http://windowsupdate.microsoft.com/


======================================================================
3.0   IMPORTANT FILES TO REVIEW
======================================================================


At some point in your planning process, before you run Setup,
familiarize yourself with the Relnotes.htm file found in the \Docs
folder on the CD for Windows Server 2003, Standard Edition.

This file contains important usage information about topics such as
application compatibility, hardware, or networking. Also familiarize
yourself with information about hardware compatibility for products in
the Windows Server 2003 family. For more information, see
"Hardware Compatibility" earlier in this text file.

For the most recent information on compatible applications for
products in the Windows Server 2003 family, see the software
compatibility information in the Windows Catalog at:

   http://www.microsoft.com/windows/catalog/


======================================================================
4.0   UPGRADES IN A DOMAIN CONTAINING WINDOWS 2000 DOMAIN CONTROLLERS
======================================================================


If you are upgrading servers in a domain containing Windows 2000
domain controllers, there are a few points to keep in mind. The
following points are the most important:

   * The first step in planning the upgrade of a particular server is
     to check the compatibility of the hardware with products in the
     Windows Server 2003 family. For more information, see
     "Hardware Compatibility" earlier in this text file.

   * Before you upgrade the first domain controller in a domain where
     one or more domain controllers run Windows 2000, or add a domain
     controller running a product in the Windows Server 2003
     family, you must prepare the domain (and the forest in which it
     is located) using a simple tool on the Setup CD for Windows
     Server 2003, Standard Edition. For information, see "Preparing
     for Upgrades in a Domain Containing Windows 2000 Domain
     Controllers" later in this text file.

     Before preparing the domain (and the forest in which it is
     located), it is recommended that you apply Service Pack 2 or
     later to all domain controllers running Windows 2000.

   * If you have Internet Information Services (IIS) 5.0 installed on
     a server, when you upgrade the operating system, IIS is upgraded
     to IIS 6.0. However, for application compatibility, IIS runs in
     IIS 5.0 isolation mode after the upgrade. For more information
     about IIS isolation modes, see the IIS 6.0 Help.

   * After upgrading the first server, you can read topics in Help and
     Support Center about the features that are most useful to you in
     products in the Windows Server 2003 family.

     One concept to read about is domain and forest functional levels,
     which are levels of Active Directory functionality related to the
     mix of operating system versions on your domain controllers. As
     you complete domain controller upgrades and reduce the number of
     different operating system versions running on them, you can
     adjust the domain and forest functional levels appropriately.

     You can view Help and Support Center topics on the Web at:

        http://www.microsoft.com/windowsserver2003/proddoc/

     To view Help and Support Center on a server running Windows Server 2003,
     after completing Setup, click Start, and then click Help
     and Support.

If you have servers running Windows NT, also review the
following points:

   * Before running Setup, it is recommended that you review the file
     systems and partitions that exist on the server. You must have at
     least one NTFS partition on domain controllers. It is recommended
     that you use NTFS on all partitions on all the servers in the
     domain, because any FAT or FAT32 partition lacks many security
     features. For example, on FAT or FAT32 partitions, a shared
     folder can be protected only by the permissions set on that
     shared folder, not on individual files, and there is no software
     protection against local access to the partition. For more
     information, see "Reformatting or Converting a Partition to Use
     NTFS" in Server3.TXT.

   * If some of your domain controllers run Windows 2000 and some run
     Windows NT, it is recommended that you upgrade the Windows NT 
     domain controllers as soon as is practical, to reduce the number
     of version differences between computers, simplify management and
     troubleshooting, and strengthen security.

   * Before you begin an upgrade from Windows NT 4.0, you must apply
     Service Pack 5 or later.

   * If you have servers or client computers that run Windows NT 3.51,
     it is recommended that you install or upgrade to a newer
     operating system on all these computers, or retire them from
     operation. If you have more than one domain, you must upgrade
     domain controllers running Windows NT 3.51 for reliable logon
     validation. In any case, upgrading or retiring computers running
     Windows NT 3.51 strengthens security and reduces the number of
     version differences between computers, simplifying management and
     troubleshooting.

After the domain and forest are prepared, there are two stages in the
upgrade of a domain controller. First you run Setup to upgrade the
operating system and then, when Setup is complete, you run the Active
Directory Installation Wizard (which appears on the screen the first
time you log on).


---------------------------------------------------
4.1   Preparing for Upgrades in a Domain Containing
      Windows 2000 Domain Controllers
---------------------------------------------------
Before beginning the first domain controller upgrade in a domain
where one or more domain controllers run Windows 2000, you must first
prepare the domain and the forest in which it is located. After
preparing the domain, you can begin the domain upgrade through either
of the following approaches:

   * Upgrade an existing domain controller to a product in the
     Windows Server 2003 family. (Be sure to check hardware
     compatibility first, as described in "Hardware Compatibility"
     earlier in this text file.)

     If you attempt to upgrade the first domain controller and you
     have not yet prepared the domain and the forest, Setup stops and
     a pop-up provides instructions.

   * Install Windows Server 2003, Standard Edition, on a member
     server in the domain, and start the Active Directory Installation
     Wizard to change the member server into a domain controller.

     If you install Windows Server 2003, Standard Edition, on a
     member server in the domain and start the Active Directory
     Installation Wizard, but you have not yet prepared the domain and
     the forest, the wizard stops and a pop-up provides instructions.

For additional background information about this type of domain
upgrade, see the previous section, "Upgrades in a Domain Containing
Windows 2000 Domain Controllers."

>>>TO PREPARE THE DOMAIN AND FOREST BEFORE UPGRADING A DOMAIN
   CONTAINING WINDOWS 2000 DOMAIN CONTROLLERS

   1. Before carrying out this procedure, it is recommended that you
      apply Service Pack 2 or later to all domain controllers running
      Windows 2000.

   2. Locate the server that is the schema master and the server that
      is the infrastructure master (they might be the same server).

      In a network of two to five servers (a network within the size
      of those discussed in this text file series), the schema master
      is usually the server on which you first installed or upgraded
      to Windows 2000. For information about identifying the schema
      master or the infrastructure master, search Windows 2000 Help
      for the topics called "Identify the schema master" and "Identify
      the infrastructure master." To view Windows 2000 Help, click
      Start and then click Help. You can also view
      Windows 2000 Help at:

         http://www.microsoft.com/windows2000/en/server/help/

   3. Back up the schema master.

      You can back up other servers as well, as an appropriate part of
      preparing for upgrading, but be sure to back up the schema
      master just before taking the next step.

   4. Disconnect the schema master from the network and do not
      reestablish the connection until step 9 in this procedure.

   5. On the schema master, while Windows 2000 is running, insert the
      Setup CD for Windows Server 2003, Standard Edition, in the
      CD-ROM drive.

   6. Open a command prompt, change to the CD-ROM drive, and change to
      the \i386 folder on the CD.

   7. On the schema master, at the command prompt, type

      adprep /forestprep

         Note: To perform this step, you must be a member of the
         Enterprise Admins group and the Schema Admins group in
         Active Directory, or you must have been delegated the
         appropriate authority. As a security best practice, consider
         using Run as. Run as is a secondary logon method that you can
         use to start commands or programs using a different security
         context. For example, you can log on as a member of the Users
         group and, without logging off, run a command as a member of
         the Enterprise Admins group. To find more information in
         Windows 2000 about Run as, on a server running Windows 2000,
         click Start, click Help, click the Search tab, and then
         search for "runas."

   8. After the preceding command has finished on the schema master,
      confirm that the preparation of the forest was successful. Steps
      you can take to do this include:

      * Confirm that no error messages have appeared.

      * Run any domain controller diagnostic tools that are available,
        for example, Dcdiag.exe, one of the tools available from the
        \Support\Tools folder on the Setup CD. Keep in mind that
        replication errors will appear while the domain controller is
        disconnected from the network.

      * Open Event Viewer and check the system log for errors or
        unexpected events.

   9. Evaluate the information you gathered in the previous step and
      choose accordingly:

      * If adprep /forestprep ran without errors, reconnect the schema
        master to the network and continue with the next step of this
        procedure.

      * If adprep /forestprep ran but error messages provided
        instructions for additional steps to take, follow the
        instructions and then return to the confirmation process
        described in the previous step.

      * If adprep /forestprep did not run successfully, or diagnostic
        tools such as Dcdiag.exe revealed a significant problem,
        restore the schema master from backup and investigate the
        corrective steps necessary so that adprep /forestprep can be
        run successfully.

  10. If the schema master is a different computer from the
      infrastructure master, wait for the changes made by adprep
      /forestprep to replicate from the schema master to the
      infrastructure master. Wait at least fifteen minutes, but allow
      longer (half a day or a day) if the schema and infrastructure
      masters are not at the same site. If you try to perform the
      domain preparation on the infrastructure master before the
      changes have replicated, Adprep will provide an error message
      to notify you that more time is needed.

  11. On the infrastructure master, while Windows 2000 is running,
      insert the Setup CD for Windows Server 2003, Standard
      Edition, in the CD-ROM drive.

  12. Open a command prompt, change to the CD-ROM drive, and change to
      the \i386 folder on the CD.

  13. On the infrastructure master, type

      adprep /domainprep

         Note: To perform this step, you must be a member of the
         Domain Admins group or the Enterprise Admins group in
         Active Directory, or you must have been delegated the
         appropriate authority. As a security best practice, consider
         using Run as. Run as is described in the previous note in
         this section.

  14. After the preceding command has finished on the infrastructure
      master, confirm that the preparation of the domain was
      successful. Steps you can take to do this include:

      * Confirm that no error messages have appeared.

      * Run any domain controller diagnostic tools that are available.

      * Open Event Viewer and check the system log for errors or
        unexpected events.

  15. Evaluate the information you gathered in the previous step and
      choose accordingly:

      * If adprep /domainprep ran without errors, continue with the
        next step of this procedure.

      * If adprep /domainprep ran but error messages provided
        instructions for additional steps to take, follow the
        instructions and then return to the confirmation process
        described in the previous step.

  16. Wait for the changes made by adprep /domainprep to replicate
      from the infrastructure master to other domain controllers. Wait
      at least fifteen minutes, but allow longer (half a day or a day)
      if you have a domain controller in a remote site. If you begin
      to upgrade one of the other domain controllers before the
      changes have replicated, a pop-up message will notify you that
      more time is needed.

After you complete this procedure, you can leave your domain
controllers running Windows 2000 for an indefinite length of time, or
you can begin the domain controller upgrade immediately.

   Note: For information about upgrading multiple domains, see the
   Windows Server 2003 Deployment Kit.

(additional Setup information in Server2.TXT)


Information in this document, including URL and other Internet
Web site references, is subject to change without notice.
Unless otherwise noted, the example companies, organizations,
products, domain names, e-mail addresses, logos, people, places
and events depicted herein are fictitious, and no association
with any real company, organization, product, domain name,
e-mail address, logo, person, place or event is intended or
should be inferred. Complying with all applicable copyright laws
is the responsibility of the user. Without limiting the rights
under copyright, no part of this document may be reproduced,
stored in or introduced into a retrieval system, or transmitted
in any form or by any means (electronic, mechanical, photocopying,
recording, or otherwise), or for any purpose, without the express
written permission of Microsoft Corporation.

Microsoft may have patents, patent applications, trademarks,
copyrights, or other intellectual property rights covering subject
matter in this document.  Except as expressly provided in any
written license agreement from Microsoft, the furnishing of this
document does not give you any license to these patents, trademarks,
copyrights, or other intellectual property.

(c) 2002-2003 Microsoft Corporation.  All rights reserved.

The names of actual companies and products mentioned herein may
be the trademarks of their respective owners.